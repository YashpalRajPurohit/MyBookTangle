doctype html
html
  head
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    title= title
    link(rel='stylesheet', href='/stylesheets/bootstrap.min.css')
    link(rel='stylesheet', href='/stylesheets/all.min.css')
    link(rel='stylesheet', href='/stylesheets/style.css')
    link(rel='icon', type='image/x-icon' ,href='/images/magic.ico')
  body
    nav.navbar.fixed-top.navbar-expand-md.navbar-light
      .container
        a.navbar-brand(href='/') BookTangle
          button.navbar-toggler(type='button', data-toggle='collapse', data-target='#navbarMain')
            span.navbar-toggler-icon
        #navbarMain.navbar-collapse.collapse
          ul.navbar-nav.mr-auto
            li.nav-item
              a.nav-link(href='/about/') About
            li.nav-item.dropdown
              select.nav-link.dropdown-toggle(id='genreDropdown', role='button', data-toggle='dropdown', aria-haspopup='true', aria-expanded='false', onchange='filterByGenre()')
                option(selected) Genre
                //- Note the 'selected' attribute in the option element
                .dropdown-menu(aria-labelledby='genreDropdown')
                  each genre in ['Self-help','Philosophy','Fiction','Friendship','Romance','Mystery','Magic','Crime','Thriller','Horror','Fantasy','Sci-fi','Strategy']
                    option.option-text= genre

        form.my-2.my-lg-0(action='/search', method='GET')
          .form-group.searchbar
            input.form-control.mr-sm-2(type='text', name='searchQuery', placeholder='name of the book', aria-label='Search')
            button.btn.btn-outline-success.my-2.my-sm-0(type='submit') Search
    .container.content
      block content
      footer
        .row
          .col-12
            small &copy; AIML_B Team 1
      script.
        function filterByGenre() {
          var selectedGenre = document.getElementById('genreDropdown').value;
          if (selectedGenre !== 'All Genres') {
            window.location.href = '/genre/' + selectedGenre;
          }
        }
      script(src='https://code.jquery.com/jquery-3.3.1.slim.min.js', integrity='sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo', crossorigin='anonymous')
      script(src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js', integrity='sha384- ZMP7rVo]3mIykV+2+9J3UJ46jBk0WLaUAdn689a CwoqbBJiSnjAK/l8WvCWPIPm49', crossorigin='anonymous')
      script(src='/javascripts/bootstrap.min.js')
   
